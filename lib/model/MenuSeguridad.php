<?php



/**
 * Skeleton subclass for representing a row from the 'menu_seguridad' table.
 *
 *
 *
 * This class was autogenerated by Propel 1.6.7 on:
 *
 * 01/11/22 01:11:37
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    propel.generator.lib.model
 */
class MenuSeguridad extends BaseMenuSeguridad
{
    
    
    static public function Acceso($modulo) {
      $menusacceso = 0;
       $tipoUsu = strtoupper(sfContext::getInstance()->getUser()->getAttribute('usuario', null, 'tipo_usuario'));
       if ($tipoUsu=='ADMINISTRADOR') {
           $menusacceso=1;
           return $menusacceso;
       }
       $cantidad = PerfilMenuQuery::create()
                 ->filterByPerfilId($tipoUsu)
               ->useMenuSeguridadQuery()
               ->filterByModulo($modulo)
               ->endUse()
               ->count();
       if ($cantidad) {
           $menusacceso=1;
       }
        return $menusacceso;
    }
    
    
}
