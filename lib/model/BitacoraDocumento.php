<?php



/**
 * Skeleton subclass for representing a row from the 'bitacora_documento' table.
 *
 *
 *
 * This class was autogenerated by Propel 1.6.7 on:
 *
 * 02/06/22 04:20:07
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    propel.generator.lib.model
 */
class BitacoraDocumento extends BaseBitacoraDocumento
{
    static public function grabacion ($tipo, $identificador, $accion, $comentario ) {
      date_default_timezone_set("America/Guatemala");
        $bitacoraDocumento = new BitacoraDocumento();
        $bitacoraDocumento->setFecha(date('Y-m-d'));
        $bitacoraDocumento->setHora(date('H:i:s'));
        $bitacoraDocumento->setTipo($tipo);
        $bitacoraDocumento->setAccion($accion);
        $bitacoraDocumento->setComentario($comentario);
        $bitacoraDocumento->setIdentificador($identificador);
        $bitacoraDocumento->setUsuario(sfContext::getInstance()->getUser()->getAttribute('usuarioNombre', null, 'seguridad'));
        $bitacoraDocumento->setIp($_SERVER['REMOTE_ADDR']);
        $bitacoraDocumento->save();
         
    }
    
}
